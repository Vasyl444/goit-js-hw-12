{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export const markup = function madeMarkup(images) {\n  const galleryItems = [];\n  images.forEach(image => {\n    galleryItems.push(`<li class=\"gallery-item\">\n            <a class=\"gallery-link\" href=\"${image.largeImageURL}\">\n            <div class=\"wrapper\">\n            <img class=\"gallery-image\" src=\"${image.webformatURL}\" alt=\"${image.tags}\">\n            <div class=\"title-wrapper\">\n            <p class=\"title\">Likes<span>${image.likes}</span></p>\n            <p class=\"title\">Views<span>${image.views}</span></p>\n            <p class=\"title\">Comments<span>${image.comments}</span></p>\n            <p class=\"title\">Downloads<span>${image.downloads}</span></p>\n            </div>\n            </div>\n            </a>\n            </li>`);\n  });\n  return galleryItems.join('');\n};\n","import axios from 'axios';\nexport const imageQuantity = 15;\nexport async function fetchImage(valueFromInput, page) {\n  const response = await axios.get(`https://pixabay.com/api/?`, {\n    params: {\n      key: '43830110-6528f7a21182a7b65b70041af',\n      q: `${valueFromInput}`,\n      image_type: 'photo',\n      orientation: 'horizontal',\n      safesearch: true,\n      per_page: imageQuantity,\n      page: page,\n    },\n  });\n  if (response.status === 200) {\n    return response.data;\n  }\n}\n","import iziToast from 'izitoast';\nimport SimpleLightbox from 'simplelightbox';\nimport { markup } from './js/render-functions';\nimport { fetchImage } from './js/pixabay-api';\nimport { imageQuantity } from './js/pixabay-api';\nexport const galleryButton = document.querySelector('.gallery-button');\nexport const galleryList = document.querySelector('.gallery-list');\nexport const loader = document.querySelector('.loader');\nconst input = document.querySelector('.search-input');\nconst message = document.querySelector('.message');\nconst searchForm = document.querySelector('.search-form');\nlet newPage = 1;\nlet rect;\nlet totalPage;\nlet newGallery = new SimpleLightbox('.gallery a', {\n  overlayOpacity: 0.8,\n  captionSelector: 'img',\n  captionDelay: 250,\n  captionPosition: 'bottom',\n  captionsData: 'alt',\n  className: 'simple-lightbox',\n});\nsearchForm.addEventListener('submit', async event => {\n  event.preventDefault();\n  newPage = 1;\n  message.classList.add('is-hidden');\n  if (input.value.trim() === '') {\n    searchForm.reset();\n    return;\n  } else {\n    loader.classList.remove('is-hidden');\n    galleryList.innerHTML = '';\n    galleryButton.classList.add('is-hidden');\n    await fetchImage(input.value, newPage)\n      .then(response => {\n        totalPage = Math.ceil(response.total / imageQuantity);\n        if (response.hits.length === 0) {\n          input.value = '';\n          iziToast.show({\n            id: null,\n            class: '.izi-toast',\n            message:\n              'Sorry, there are no images matching your search query. Please try again!',\n            messageColor: '#fff',\n            messageSize: '14px',\n            messageLineHeight: '',\n            backgroundColor: '#e49b63',\n            theme: 'light',\n            color: '',\n            icon: '',\n            iconText: '',\n            iconColor: '',\n            iconUrl: '',\n            maxWidth: 430,\n            zindex: null,\n            layout: 1,\n            balloon: false,\n            close: true,\n            closeOnEscape: false,\n            closeOnClick: false,\n            displayMode: 0,\n            position: 'topRight',\n            target: '',\n            targetFirst: true,\n            timeout: 4000,\n            rtl: false,\n            animateInside: true,\n            drag: true,\n            pauseOnHover: true,\n            resetOnHover: false,\n            progressBar: true,\n            progressBarColor: '',\n            progressBarEasing: 'linear',\n            overlay: false,\n            overlayClose: false,\n            overlayColor: 'rgba(0, 0, 0, 0.6)',\n            transitionIn: 'fadeInUp',\n            transitionOut: 'fadeOut',\n            transitionInMobile: 'fadeInUp',\n            transitionOutMobile: 'fadeOutDown',\n            buttons: {},\n            inputs: {},\n            onOpening: function () {},\n            onOpened: function () {},\n            onClosing: function () {},\n            onClosed: function () {},\n          });\n        } else if (newPage === totalPage) {\n          galleryButton.classList.add('is-hidden');\n          searchForm.reset();\n          galleryList.insertAdjacentHTML('afterbegin', markup(response.hits));\n          newGallery.refresh();\n          newGallery.on('open.simplelightbox');\n          message.classList.remove('is-hidden');\n          input.value = '';\n        } else {\n          message.classList.add('is-hidden');\n          galleryList.insertAdjacentHTML('afterbegin', markup(response.hits));\n          newGallery.refresh();\n          newGallery.on('open.simplelightbox');\n          galleryButton.classList.remove('is-hidden');\n          const galleryItem = document.querySelector('.gallery-item');\n          rect = galleryItem.getBoundingClientRect().height;\n          newPage = 1;\n        }\n      })\n      .catch(error => {\n        searchForm.reset();\n        iziToast.show({\n          id: null,\n          class: '.izi-toast',\n          message: `ERROR: ${error.message}`,\n          messageColor: '#fff',\n          messageSize: '14px',\n          messageLineHeight: '',\n          backgroundColor: '#EF4040',\n          theme: 'light',\n          color: '',\n          icon: '',\n          iconText: '',\n          iconColor: '',\n          iconUrl: '',\n          maxWidth: 430,\n          zindex: null,\n          layout: 1,\n          balloon: false,\n          close: true,\n          closeOnEscape: false,\n          closeOnClick: false,\n          displayMode: 0,\n          position: 'topRight',\n          target: '',\n          targetFirst: true,\n          timeout: 4000,\n          rtl: false,\n          animateInside: true,\n          drag: true,\n          pauseOnHover: true,\n          resetOnHover: false,\n          progressBar: true,\n          progressBarColor: '',\n          progressBarEasing: 'linear',\n          overlay: false,\n          overlayClose: false,\n          overlayColor: 'rgba(0, 0, 0, 0.6)',\n          transitionIn: 'fadeInUp',\n          transitionOut: 'fadeOut',\n          transitionInMobile: 'fadeInUp',\n          transitionOutMobile: 'fadeOutDown',\n          buttons: {},\n          inputs: {},\n          onOpening: function () {},\n          onOpened: function () {},\n          onClosing: function () {},\n          onClosed: function () {},\n        });\n      });\n  }\n  loader.classList.add('is-hidden');\n});\ngalleryButton.addEventListener('click', async () => {\n  loader.classList.remove('is-hidden');\n  galleryButton.classList.add('is-hidden');\n  newPage += 1;\n  window.scrollBy({\n    top: rect * 2,\n    left: 0,\n    behavior: 'smooth',\n  });\n  await fetchImage(input.value, newPage)\n    .then(response => {\n      if (newPage === totalPage) {\n        galleryList.insertAdjacentHTML('beforeend', markup(response.hits));\n        window.scrollBy({\n          top: rect * 2,\n          left: 0,\n          behavior: 'smooth',\n        });\n        message.classList.remove('is-hidden');\n        galleryButton.classList.add('is-hidden');\n        input.value = '';\n        searchForm.reset();\n      } else {\n        galleryList.insertAdjacentHTML('beforeend', markup(response.hits));\n        window.scrollBy({\n          top: rect * 2,\n          left: 0,\n          behavior: 'smooth',\n        });\n        newGallery.refresh();\n        newGallery.on('open.simplelightbox');\n        galleryButton.classList.remove('is-hidden');\n      }\n    })\n    .catch(error => {\n      searchForm.reset();\n      iziToast.show({\n        id: null,\n        class: '.izi-toast',\n        message: `ERROR: ${error.message}`,\n        messageColor: '#fff',\n        messageSize: '14px',\n        messageLineHeight: '',\n        backgroundColor: '#EF4040',\n        theme: 'light',\n        color: '',\n        icon: '',\n        iconText: '',\n        iconColor: '',\n        iconUrl: '',\n        maxWidth: 430,\n        zindex: null,\n        layout: 1,\n        balloon: false,\n        close: true,\n        closeOnEscape: false,\n        closeOnClick: false,\n        displayMode: 0,\n        position: 'topRight',\n        target: '',\n        targetFirst: true,\n        timeout: 4000,\n        rtl: false,\n        animateInside: true,\n        drag: true,\n        pauseOnHover: true,\n        resetOnHover: false,\n        progressBar: true,\n        progressBarColor: '',\n        progressBarEasing: 'linear',\n        overlay: false,\n        overlayClose: false,\n        overlayColor: 'rgba(0, 0, 0, 0.6)',\n        transitionIn: 'fadeInUp',\n        transitionOut: 'fadeOut',\n        transitionInMobile: 'fadeInUp',\n        transitionOutMobile: 'fadeOutDown',\n        buttons: {},\n        inputs: {},\n        onOpening: function () {},\n        onOpened: function () {},\n        onClosing: function () {},\n        onClosed: function () {},\n      });\n    });\n  loader.classList.add('is-hidden');\n});\n"],"names":["markup","images","galleryItems","image","imageQuantity","fetchImage","valueFromInput","page","response","axios","galleryButton","galleryList","loader","input","message","searchForm","newPage","rect","totalPage","newGallery","SimpleLightbox","event","iziToast","error"],"mappings":"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"}